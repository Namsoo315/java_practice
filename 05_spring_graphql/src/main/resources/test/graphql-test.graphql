# ============================================
# 1. 사용자(User) 조회
# ============================================

# 1-1) 사용자 단건 조회
query FindUser {
    user(id: 1) {
        id
        username
        email
        nickName
        role
        status
        createdAt
        updatedAt
    }
}

# 1-2) 사용자 목록 조회
query FindUsers {
    users {
        id
        username
        email
        nickName
        role
        status
    }
}

# ============================================
# 2. 게시글(Post) 조회 및 조작
# ============================================

# 2-1) 게시글 단건 + 작성자
query FindPostWithAuthor {
    post(id: 1) {
        id
        title
        content
        isPublished
        isDeleted
        createdAt

        author {
            id
            username
            nickName
        }
    }
}

# 2-2) 게시글 단건 + 댓글 + 댓글 작성자
query FindPostWithComments {
    post(id: 1) {
        id
        title
        content
        createdAt

        author {
            id
            nickName
        }

        comments {
            id
            content
            createdAt
            author {
                id
                nickName
            }
        }
    }
}

# 2-3) 게시글 페이징
query FindPostsPage {
    posts(page: 0, size: 10) {
        content {
            id
            title
            createdAt
            author {
                id
                nickName
            }
        }
        page
        size
        totalElements
        totalPages
    }
}

# 2-4) 게시글 검색(제목)
query SearchPostsByTitle {
    searchPostsByTitle(keyword: "스프링", page: 0, size: 10) {
        content {
            id
            title
            author {
                id
                nickName
            }
        }
        page
        totalElements
        totalPages
    }
}

# 2-5) 게시글 검색(내용)
query SearchPostsByContent {
    searchPostsByContent(keyword: "스프링", page: 0, size: 10) {
        content {
            id
            content
            author {
                id
                nickName
            }
        }
    }
}

# 2-6) 게시글 검색(제목 또는 내용)
query SearchPostsByTitleOrContent {
    searchPostsByTitleOrContent(keyword: "스프링", page: 0, size: 10) {
        content {
            id
            title
            content
            author {
                id
                nickName
            }
        }
    }
}

# 2-7) 게시글 검색(작성자 닉네임)
query SearchPostsByAuthorNickName {
    searchPostsByAuthorNickName(nickName: "스프링입문러", page: 0, size: 10) {
        content {
            id
            title
            author {
                id
                nickName
            }
        }
    }
}

# 2-8) 게시글 생성
mutation CreatePost {
    createPost(input: {
        authorId: 1
        title: "테스트 게시글"
        content: "내용 입력"
        isPublished: true
    }) {
        id
        title
        content
        createdAt
        author {
            id
            nickName
        }
    }
}

# 2-9) 게시글 수정
mutation UpdatePost {
    updatePost(
        id: 1
        input: {
            title: "수정된 제목"
            content: "수정된 내용"
        }
    ) {
        id
        title
        content
        updatedAt
    }
}

# 2-10) 게시글 삭제(soft delete)
mutation DeletePost {
    deletePost(id: 1)
}

# ============================================
# 3. 댓글(Comment) 조회 및 조작
# ============================================

# 3-1) 댓글 단건 + 작성자 + 게시글
query FindCommentWithRelations {
    comment(id: 1) {
        id
        content
        createdAt

        author {
            id
            nickName
        }

        post {
            id
            title
        }
    }
}

# 3-2) 댓글 페이징 조회
query FindCommentsPage {
    comments(page: 0, size: 10) {
        content {
            id
            content
            createdAt
            author {
                id
                nickName
            }
            post {
                id
                title
            }
        }
        page
        size
        totalElements
        totalPages
    }
}

# 3-3) 댓글 검색(내용)
query SearchCommentsByContent {
    searchCommentsByContent(keyword: "스프링", page: 0, size: 10) {
        content {
            id
            content
            author { id nickName }
            post { id title }
        }
    }
}

# 3-4) 댓글 검색(작성자 닉네임)
query SearchCommentsByAuthorNickName {
    searchCommentsByAuthorNickName(nickName: "스프링입문러", page: 0, size: 10) {
        content {
            id
            content
            author { id nickName }
            post { id title }
        }
    }
}

# 3-5) 댓글 생성
mutation CreateComment {
    createComment(input: {
        postId: 1
        authorId: 1
        content: "댓글 테스트"
    }) {
        id
        content
        createdAt
        author {
            id
            nickName
        }
        post {
            id
            title
        }
    }
}

# 3-6) 댓글 삭제
mutation DeleteComment {
    deleteComment(id: 1)
}
